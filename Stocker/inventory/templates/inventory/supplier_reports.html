{% extends 'base.html' %}
{% load static %}

{% block title %}Supplier Reports{% endblock %}

{% block fileStyle %}
<link rel="stylesheet" href="{% static 'css/supplier_reports.css' %}">
{% endblock %}

{% block content %}
<div class="container py-4 min-vh-100">
    <h2 class="text-center fw-bold mb-3 supplier-reports-header m-auto">Supplier Reports</h2>

    <div class="table-responsive table-custom shadow">
        <table class="table table-hover align-middle text-center mb-0">
            <thead class="header-green-dark">
                <tr class="">
                    <th>#</th>
                    <th>Supplier</th>
                    <th>Total Products</th>
                    <th>Low Stock (&lt; {{ low_stock_threshold }} units)</th>
                    <th>Expired</th>
                    <th>Near Expiry ({{ near_expiry_days }} days)</th>
                </tr>
            </thead>
            <tbody>
                {% for data in suppliers_data %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td class="fw-bold">{{ data.supplier.name }}</td>
                        <td>{{ data.total_products }}</td>
                        <td class="text-warning fw-bold">{{ data.low_stock_count }}</td>
                        <td class="text-danger fw-bold">{{ data.expired_count }}</td>
                        <td class="text-info fw-bold">{{ data.near_expiry_count }}</td>
                    </tr>
                {% empty %}
                    <tr>
                        <td colspan="6" class="text-muted">No suppliers found.</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
